/* =========================
   Theme Tokens
   ========================= */
:root {
  --bg: #121212;
  --card: #0d0d0d;
  --card2: #0b0b0b;

  --text: #e5e7eb;
  --muted: #cbd5e1;

  --border: rgba(255, 255, 255, 0.10);
  --border2: rgba(255, 255, 255, 0.08);

  --green: #00ff88;
  --green2: #00cc6a;

  --shadow: 0 14px 36px rgba(0, 0, 0, 0.55);
  --shadowStrong: 0 18px 50px rgba(0, 0, 0, 0.70);
}

/* =========================
   Page Layout
   ========================= */
.problem-detail-page {
  min-height: 100vh;
  background-color: var(--bg);
}

.problem-detail-container {
  max-width: 56rem;
  margin: 0 auto;
  padding: 3rem 1rem;
}

.loading-text {
  color: #9ca3af;
}

/* =========================
   Header
   ========================= */
.problem-detail-header {
  margin-bottom: 1.5rem;
}

.problem-title-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;
  margin-bottom: 0.75rem;
  flex-wrap: wrap;
}

.problem-detail-title {
  font-size: 2.25rem;
  font-weight: 900;
  color: var(--text);
  display: flex;
  align-items: center;
}

.solved-check {
  margin-left: 10px;
  color: var(--green);
  font-weight: 900;
  font-size: 1.1rem;
}

/* Difficulty badge */
.difficulty-badge {
  padding: 0.25rem 0.85rem;
  border-radius: 999px;
  font-size: 0.875rem;
  font-weight: 900;
  color: #0b0b0b;
  border: 1px solid rgba(0,0,0,0.2);
}

.badge-easy { background-color: var(--green); }
.badge-medium { background-color: #f59e0b; }
.badge-hard { background-color: #ef4444; color: #fff; }

/* =========================
   Cards / Sections
   ========================= */
.problem-section {
  background-color: var(--card);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 1.5rem;
  margin-bottom: 2rem;
  box-shadow: var(--shadow);
}

.section-title {
  font-size: 1.25rem;
  font-weight: 900;
  color: var(--text);
  margin-bottom: 1rem;
}

.section-title.small {
  font-size: 1.05rem;
  margin-bottom: 0.75rem;
}

.problem-description-text {
  color: var(--muted);
  white-space: pre-line;
  line-height: 1.75;
}

/* Objective/Hint 영역 */
.toggle-row {
  display: flex;
  gap: 0.6rem;
  flex-wrap: wrap;
  margin-bottom: 1rem;
}

.sub-section {
  margin-top: 1rem;
  padding-top: 1rem;
  border-top: 1px solid rgba(255, 255, 255, 0.06);
}

/* =========================
   ✅ Unified Buttons (NEON)
   - 모든 버튼/링크 통일
   ========================= */

/* 기본(비활성/서브) 버튼 스타일 */
.problem-button,
.explain-tab,
.submit-button {
  -webkit-appearance: none;
  appearance: none;

  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.35rem;

  padding: 0.55rem 1.1rem;
  border-radius: 999px;

  background: rgba(255, 255, 255, 0.06);
  color: var(--muted);
  border: 1px solid rgba(255, 255, 255, 0.12);

  font-size: 0.9rem;
  font-weight: 900;

  cursor: pointer;
  transition: all 0.18s ease;
  text-decoration: none;
  user-select: none;
}

.problem-button:hover,
.explain-tab:hover,
.submit-button:hover {
  background: rgba(255, 255, 255, 0.10);
  color: #ffffff;
  border-color: rgba(255, 255, 255, 0.18);
}

/* disabled */
.problem-button:disabled,
.explain-tab:disabled,
.submit-button:disabled {
  opacity: 0.45;
  cursor: not-allowed;
}

/* ✅ 네온 그린 “활성/메인” 버튼 */
.explain-tab.active,
.submit-button,
.problem-button.primary {
  background: linear-gradient(135deg, var(--green), var(--green2));
  color: #07110b;

  border: 1px solid rgba(0, 0, 0, 0.15);
  box-shadow:
    0 10px 26px rgba(0, 255, 136, 0.45),
    0 0 0 1px rgba(0, 255, 136, 0.22),
    inset 0 1px 0 rgba(255, 255, 255, 0.35);
}

.explain-tab.active:hover,
.submit-button:hover,
.problem-button.primary:hover {
  filter: brightness(1.05);
  box-shadow:
    0 12px 32px rgba(0, 255, 136, 0.55),
    0 0 0 1px rgba(0, 255, 136, 0.28),
    inset 0 1px 0 rgba(255, 255, 255, 0.40);
}

/* =========================
   Flag Form
   ========================= */
.flag-form {
  display: flex;
  gap: 0.6rem;
  flex-wrap: wrap;
  align-items: center;
}

.flag-input {
  flex: 1;
  min-width: 240px;

  background-color: #141414;
  border: 1px solid rgba(255, 255, 255, 0.14);
  color: var(--text);

  padding: 0.65rem 0.95rem;
  border-radius: 12px;
  outline: none;
}

.flag-input:focus {
  border-color: rgba(0, 255, 136, 0.60);
  box-shadow: 0 0 0 3px rgba(0, 255, 136, 0.12);
}

/* =========================
   Result Message
   ========================= */
.result-message {
  margin-top: 1rem;
  padding: 0.95rem 1rem;
  border-radius: 14px;
  border: 1px solid rgba(255, 255, 255, 0.10);
}

.result-success {
  background: rgba(0, 255, 136, 0.08);
  border-color: rgba(0, 255, 136, 0.35);
  color: var(--green);
}

.result-error {
  background: rgba(239, 68, 68, 0.10);
  border-color: rgba(239, 68, 68, 0.35);
  color: #ff6b6b;
}

/* =========================
   ✅ Explanation Section
   ========================= */
.problem-section.explanation-section {
  background: linear-gradient(
    180deg,
    rgba(18, 18, 18, 0.92),
    rgba(10, 10, 10, 0.96)
  );
  border: 1px solid var(--border);
  box-shadow:
    var(--shadowStrong),
    inset 0 1px 0 rgba(255, 255, 255, 0.04);
}

.explain-tabs {
  display: flex;
  gap: 0.6rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.explain-body {
  margin-top: 0.75rem;
}

/* ✅ 흰 배경/흰 테두리 완전 제거 + 글자 선명 */
.explanation-section .explain-body pre {
  margin: 0;
  padding: 1.4rem 1.6rem;

  background: linear-gradient(180deg, #121212, #0a0a0a);
  color: #f1f5f9;

  border-radius: 14px;
  border: 1px solid rgba(255, 255, 255, 0.10);

  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.04),
    0 10px 26px rgba(0, 0, 0, 0.70);

  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 0.95rem;
  line-height: 1.75;

  white-space: pre-wrap;
  word-break: break-word;
}

/* 선택/드래그 가독성 */
.explanation-section .explain-body pre::selection {
  background: rgba(0, 255, 136, 0.25);
}

/* =========================
   Mobile tweaks
   ========================= */
@media (max-width: 520px) {
  .problem-detail-container { padding: 2rem 1rem; }
  .problem-detail-title { font-size: 1.75rem; }
  .flag-input { min-width: 100%; }
}
